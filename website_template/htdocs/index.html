<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<style type="text/css">

			#header {
				font-size: 20px;
				font-weight: bold;
				text-align: center;
			}

			#map_container {
				position: relative;
				width: 750px;
				height: 450px;
				border-style: solid;
				border-color: gray;
				border-width: 1px;
			}

		</style>
		<script type="text/javascript" src="/js/d3.min.js"></script>
		<script type="text/javascript" src="/js/topojson.min.js"></script>
		<script type="text/javascript" src="/js/datamaps.world.min.js"></script>
		<script type="text/javascript" src="/js/json2.js"></script>
		<script type="text/javascript">
			"use strict";

			var g_myRequestsManager;
			var g_myMap;
			var g_myPageAnimation;

			/********************************/
			/* GLOBAL NAMESPACE *************/
			/********************************/

			if (!Function.prototype.bind) {
				Function.prototype.bind = function (context) {
					var myFunction;
					var myArguments;
					var i;

					myFunction = this;
					myArguments = [];
					for (i = 1; i < arguments.length; i++) {
						myArguments.push(arguments[i]);
					}
					return (function () {
						myFunction.apply(context, myArguments);
					});
				};
			}

			/**
			* La fonction appelee une fois le corps de la page charge
			*/
			function ft_load_page () {
				g_myMap.init();
				g_myPageAnimation.init();
				g_myPageAnimation.loadingStart();
			}

			/**
			* Converti un objet Date en chaine de caractere au format yyyy-MM-dd
			* @param myDate {Date} L'instance de la classe date a convertir
			* @return {String} La chaine de caractere obtenue
			*/
			function ft_date_to_tring (myDate) {
				var y;
				var m;
				var d;
				var s;

				s = "";
				y = myDate.getFullYear();
				m = myDate.getMonth() + 1;
				d = myDate.getDate();
				s = y + "-" + (m > 9 ? m : "0" + m) + "-" + (d > 9 ? d : "0" + d);
				return (s);
			}

			/**
			* Supprime tous les noeuds fils d'un element DOM
			* @param elemDOM {Object} L'element DOM dont le contenu est a supprimer
			*/
			function ft_flushDIV (elemDOM) {
				var l;
				var i;

				if (elemDOM && elemDOM.hasChildNodes()) {
					l = elemDOM.children;
					i = l.length - 1;
					while (i >= 0) {
						elemDOM.removeChild(l[i]);
						i--;
					}
				}
			}

			/**
			* Fonction recursive permettant d'afficher le contenu d'une variable dans un noeud element de la page
			* @param elemDOM {Object} L'element DOM dans lequel faire apparaitre la variable
			* @param stuff {Object|Array|Number|String} La variable a mettre en page
			*/
			function ft_printStuffTable (elemDOM, stuff) {
				var e;
				var row;
				var col_left;
				var col_right;
				var t;
				var s;
				var p;
				var i;
				var len;

				if (stuff) {
					if (typeof(stuff) == "number") {
						s = stuff.toString();
						t = document.createTextNode(s);
						elemDOM.appendChild(t);
					}
					else if (typeof(stuff) == "string") {
						t = document.createTextNode(stuff);
						elemDOM.appendChild(t);
					}
					else if (typeof(stuff) == "object") {
						if (stuff.constructor.name == "Array") { // ou instanceof(Array)
							len = stuff.length;
							i = 0;
							while (i < len) {
								e = document.createElement("div");
								printStuffTable(e, stuff[i]);
								elemDOM.appendChild(e);
								i++;
							}
						}
						else {
							e = document.createElement("table");
							e.border = '1';
							for (p in stuff) {
								s = "";
								s = s + p;
								row = document.createElement("tr");
								col_left = document.createElement("td");
								col_right = document.createElement("td");
								t = document.createTextNode(s);
								col_left.appendChild(t);
								row.appendChild(col_left);
								printStuffTable(col_right, stuff[p]);
								row.appendChild(col_right);
								e.appendChild(row);
							}
							elemDOM.appendChild(e);
						}
					}
				}
				else {
					t = document.createTextNode("{ null }");
					elemDOM.appendChild(t);
				}
			}

			/********************************/
			/* REQUESTS MANAGER *************/
			/********************************/

			g_myRequestsManager = ( function () {
				/**
				* Obtenir une instance de la classe permettant d'effectuer des requetes cross-domain suivant le navigateur courant
				* @return {Object} Une instance de la classe requise
				*/
				function getXDomainRequest () {
					var xdr;

					xdr = null;
					if (window.XDomainRequest) {
						xdr = new XDomainRequest ();
					}
					else if (window.XMLHttpRequest) {
						xdr = new XMLHttpRequest ();
					}
					return (xdr);
				}
				return ({
					/**
					* Effectuer l'envoie d'une requete POST au serveur, et appeler une fonction prenant en parametre le corps de la reponse du serveur
					* @param paramsHTTP {String} Le corps de la requete POST
					* @param callBack {Function} La fonction prenant en parametre le corps de la reponse si la requete reussie
					*/
					sendPostRequest: function (paramsHTTP, callBack) {
						var xmlhttp;

						xmlhttp = getXDomainRequest();
						if (xmlhttp) {
							xmlhttp.onload = function () {
								callBack(this.responseText);
							}
							xmlhttp.onerror = function () {
								alert("Une erreur est survenue lors de l'envoi de la requete");
							}
							xmlhttp.open("POST", g_serverAddress);
							xmlhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
							try {
								xmlhttp.send(paramsHTTP);
							} catch (err) {
								alert("AJAX error: " + err);
							}
						}
					}
				});
			} ) ();

			/********************************/
			/* MAP **************************/
			/********************************/

			g_myMap = ( function () {
				var e;
				var o;

				return ({
					mapObject: null,
					selectedDepartment: null,

					init: function () {
						e = document.getElementById('map_container');
						o = {
							element: e,
							scope: 'fra',
							projection: 'mercator',
							fills: {
								defaultFill: "#C0C0C0",
								red: "#FF8080",
								green: "#80FF80",
								blue: "#8080FF"
							},
							geographyConfig: {
								highlightFillColor: "#8080FF",
								highlightBorderColor: "#4040FF",
								highlightBorderWidth: 0.5,
								dataUrl: '/json/fra.topo.json',
								borderColor: '#E0E0E0',
								borderWidth: 0.5,
								popupTemplate: ( function (geography, data) { //this function should just return a string
									return ('<div class="hoverinfo"><strong>' + geography.properties.name + '</strong><br>'
										+ geography.id + '</div>');
								} ).bind(this) // BIND
							},
							data: {
								'FR.MB': { fillKey: "blue" }
							},
							setProjection: ( function (element) {
								var projection = d3.geo.mercator()
									.center([2.3610, 46.2938]) // always in [East Latitude, North Longitude]
									.scale(1500);
								var path = d3.geo.path().projection(projection);
								return { path: path, projection: projection };
							} ).bind(this), // BIND
							done: ( function (datamap) {
								datamap.svg.selectAll('.datamaps-subunit').on('click', ( function (geography) {
									this.selectedDepartment = geography;
									console.log(geography.id);
								} ).bind(this)) // BIND
							} ).bind(this) // BIND
						};
						this.mapObject = new Datamap(o);
						this.mapObject.arc([
								{'origin':{'longitude':16.97570,'latitude':48.11513},'destination':{'longitude':16.90369,'latitude':47.70888}},
								{'origin':{'longitude':16.90369,'latitude':47.70888},'destination':{'longitude':16.32763,'latitude':47.70888}},
								{'origin':{'longitude':16.32763,'latitude':47.70888},'destination':{'longitude':16.54365,'latitude':47.48882}},
								{'origin':{'longitude':16.54365,'latitude':47.48882},'destination':{'longitude':16.21962,'latitude':46.84559}},
								{'origin':{'longitude':16.21962,'latitude':46.84559},'destination':{'longitude':16.00360,'latitude':46.67632}},
								{'origin':{'longitude':16.00360,'latitude':46.67632},'destination':{'longitude':15.13951,'latitude':46.65940}},
								{'origin':{'longitude':15.13951,'latitude':46.65940},'destination':{'longitude':14.63546,'latitude':46.43934}},
								{'origin':{'longitude':14.63546,'latitude':46.43934},'destination':{'longitude':13.80738,'latitude':46.50705}},
								{'origin':{'longitude':13.80738,'latitude':46.50705},'destination':{'longitude':12.36724,'latitude':46.76096}},
								{'origin':{'longitude':12.36724,'latitude':46.76096},'destination':{'longitude':12.15122,'latitude':47.11643}},
								{'origin':{'longitude':12.15122,'latitude':47.11643},'destination':{'longitude':11.17912,'latitude':46.94716}},
								{'origin':{'longitude':11.17912,'latitude':46.94716},'destination':{'longitude':11.03510,'latitude':46.74403}},
								{'origin':{'longitude':11.03510,'latitude':46.74403},'destination':{'longitude':10.45905,'latitude':46.89638}},
								{'origin':{'longitude':10.45905,'latitude':46.89638},'destination':{'longitude':9.91899,'latitude':46.91330}},
								{'origin':{'longitude':9.91899,'latitude':46.91330},'destination':{'longitude':9.48695,'latitude':47.09950}},
								{'origin':{'longitude':9.48695,'latitude':47.09950},'destination':{'longitude':9.63096,'latitude':47.35341}},
								{'origin':{'longitude':9.63096,'latitude':47.35341},'destination':{'longitude':9.59496,'latitude':47.52268}},
								{'origin':{'longitude':9.59496,'latitude':47.52268},'destination':{'longitude':9.88299,'latitude':47.57346}},
								{'origin':{'longitude':9.88299,'latitude':47.57346},'destination':{'longitude':10.38704,'latitude':47.30263}},
								{'origin':{'longitude':10.38704,'latitude':47.30263},'destination':{'longitude':10.53105,'latitude':47.57346}},
								{'origin':{'longitude':10.53105,'latitude':47.57346},'destination':{'longitude':11.43114,'latitude':47.52268}},
								{'origin':{'longitude':11.43114,'latitude':47.52268},'destination':{'longitude':12.15122,'latitude':47.70888}},
								{'origin':{'longitude':12.15122,'latitude':47.70888},'destination':{'longitude':12.61926,'latitude':47.67502}},
								{'origin':{'longitude':12.61926,'latitude':47.67502},'destination':{'longitude':12.94329,'latitude':47.47190}},
								{'origin':{'longitude':12.94329,'latitude':47.47190},'destination':{'longitude':13.01530,'latitude':47.64117}},
								{'origin':{'longitude':13.01530,'latitude':47.64117},'destination':{'longitude':12.87129,'latitude':48.28440}},
								{'origin':{'longitude':12.87129,'latitude':48.28440},'destination':{'longitude':13.23132,'latitude':48.41982}},
								{'origin':{'longitude':13.23132,'latitude':48.41982},'destination':{'longitude':13.59136,'latitude':48.87685}},
								{'origin':{'longitude':13.59136,'latitude':48.87685},'destination':{'longitude':14.34743,'latitude':48.55523}},
								{'origin':{'longitude':14.34743,'latitude':48.55523},'destination':{'longitude':14.88749,'latitude':48.96148}},
								{'origin':{'longitude':14.88749,'latitude':48.96148},'destination':{'longitude':15.24752,'latitude':49.04612}},
								{'origin':{'longitude':15.24752,'latitude':49.04612},'destination':{'longitude':16.03960,'latitude':48.74143}},
								{'origin':{'longitude':16.03960,'latitude':48.74143},'destination':{'longitude':16.50765,'latitude':48.79221}},
								{'origin':{'longitude':16.50765,'latitude':48.79221},'destination':{'longitude':16.97570,'latitude':48.58909}},
								{'origin':{'longitude':16.97570,'latitude':48.58909},'destination':{'longitude':16.86769,'latitude':48.47060}},
								{'origin':{'longitude':16.86769,'latitude':48.47060},'destination':{'longitude':16.97570,'latitude':48.11513}},
								{'origin':{'longitude':3.33033,'latitude':51.34821},'destination':{'longitude':4.05041,'latitude':51.26357}},
								{'origin':{'longitude':4.05041,'latitude':51.26357},'destination':{'longitude':4.98650,'latitude':51.46669}},
								{'origin':{'longitude':4.98650,'latitude':51.46669},'destination':{'longitude':5.59856,'latitude':51.04352}},
								{'origin':{'longitude':5.59856,'latitude':51.04352},'destination':{'longitude':6.17462,'latitude':50.80654}},
								{'origin':{'longitude':6.17462,'latitude':50.80654},'destination':{'longitude':6.03060,'latitude':50.12945}},
								{'origin':{'longitude':6.03060,'latitude':50.12945},'destination':{'longitude':5.77858,'latitude':50.09560}},
								{'origin':{'longitude':5.77858,'latitude':50.09560},'destination':{'longitude':5.67057,'latitude':49.53700}},
								{'origin':{'longitude':2.50225,'latitude':51.14508},'destination':{'longitude':3.33033,'latitude':51.34821}},
								{'origin':{'longitude':10.45905,'latitude':46.89638},'destination':{'longitude':10.35104,'latitude':46.49012}},
								{'origin':{'longitude':10.35104,'latitude':46.49012},'destination':{'longitude':9.91899,'latitude':46.32085}},
								{'origin':{'longitude':9.91899,'latitude':46.32085},'destination':{'longitude':9.19892,'latitude':46.43934}},
								{'origin':{'longitude':9.19892,'latitude':46.43934},'destination':{'longitude':8.98290,'latitude':46.03309}},
								{'origin':{'longitude':8.98290,'latitude':46.03309},'destination':{'longitude':8.47885,'latitude':45.99924}},
								{'origin':{'longitude':8.47885,'latitude':45.99924},'destination':{'longitude':8.29883,'latitude':46.16851}},
								{'origin':{'longitude':8.29883,'latitude':46.16851},'destination':{'longitude':7.75878,'latitude':45.82997}},
								{'origin':{'longitude':7.75878,'latitude':45.82997},'destination':{'longitude':7.29073,'latitude':45.77919}},
								{'origin':{'longitude':7.29073,'latitude':45.77919},'destination':{'longitude':6.85869,'latitude':45.99924}},
								{'origin':{'longitude':7.47075,'latitude':47.62424},'destination':{'longitude':8.33483,'latitude':47.60731}},
								{'origin':{'longitude':8.33483,'latitude':47.60731},'destination':{'longitude':8.51485,'latitude':47.82737}},
								{'origin':{'longitude':8.51485,'latitude':47.82737},'destination':{'longitude':9.59496,'latitude':47.52268}},
								{'origin':{'longitude':13.59136,'latitude':48.87685},'destination':{'longitude':13.01530,'latitude':49.30002}},
								{'origin':{'longitude':13.01530,'latitude':49.30002},'destination':{'longitude':12.51125,'latitude':49.55393}},
								{'origin':{'longitude':12.51125,'latitude':49.55393},'destination':{'longitude':12.40324,'latitude':49.97711}},
								{'origin':{'longitude':12.40324,'latitude':49.97711},'destination':{'longitude':12.22322,'latitude':50.26487}},
								{'origin':{'longitude':12.22322,'latitude':50.26487},'destination':{'longitude':12.97930,'latitude':50.48492}},
								{'origin':{'longitude':12.97930,'latitude':50.48492},'destination':{'longitude':13.33933,'latitude':50.73883}},
								{'origin':{'longitude':13.33933,'latitude':50.73883},'destination':{'longitude':14.05941,'latitude':50.92503}},
								{'origin':{'longitude':14.05941,'latitude':50.92503},'destination':{'longitude':14.31143,'latitude':51.11123}},
								{'origin':{'longitude':14.31143,'latitude':51.11123},'destination':{'longitude':14.56346,'latitude':51.00966}},
								{'origin':{'longitude':14.56346,'latitude':51.00966},'destination':{'longitude':15.03150,'latitude':51.11123}},
								{'origin':{'longitude':15.03150,'latitude':51.11123},'destination':{'longitude':15.49955,'latitude':50.78961}},
								{'origin':{'longitude':15.49955,'latitude':50.78961},'destination':{'longitude':16.25563,'latitude':50.70497}},
								{'origin':{'longitude':16.25563,'latitude':50.70497},'destination':{'longitude':16.18362,'latitude':50.41721}},
								{'origin':{'longitude':16.18362,'latitude':50.41721},'destination':{'longitude':16.72367,'latitude':50.21409}},
								{'origin':{'longitude':16.72367,'latitude':50.21409},'destination':{'longitude':16.86769,'latitude':50.46800}},
								{'origin':{'longitude':16.86769,'latitude':50.46800},'destination':{'longitude':17.55176,'latitude':50.36643}},
								{'origin':{'longitude':17.55176,'latitude':50.36643},'destination':{'longitude':17.65977,'latitude':50.04482}},
								{'origin':{'longitude':17.65977,'latitude':50.04482},'destination':{'longitude':18.37984,'latitude':49.99404}},
								{'origin':{'longitude':18.37984,'latitude':49.99404},'destination':{'longitude':18.84788,'latitude':49.50315}},
								{'origin':{'longitude':18.84788,'latitude':49.50315},'destination':{'longitude':18.55986,'latitude':49.50315}},
								{'origin':{'longitude':18.55986,'latitude':49.50315},'destination':{'longitude':18.41584,'latitude':49.31695}},
								{'origin':{'longitude':18.41584,'latitude':49.31695},'destination':{'longitude':18.16382,'latitude':49.26617}},
								{'origin':{'longitude':18.16382,'latitude':49.26617},'destination':{'longitude':18.09181,'latitude':49.04612}},
								{'origin':{'longitude':18.09181,'latitude':49.04612},'destination':{'longitude':17.91179,'latitude':48.99534}},
								{'origin':{'longitude':17.91179,'latitude':48.99534},'destination':{'longitude':17.87579,'latitude':48.91070}},
								{'origin':{'longitude':17.87579,'latitude':48.91070},'destination':{'longitude':17.55176,'latitude':48.79221}},
								{'origin':{'longitude':17.55176,'latitude':48.79221},'destination':{'longitude':17.11971,'latitude':48.80914}},
								{'origin':{'longitude':17.11971,'latitude':48.80914},'destination':{'longitude':16.97570,'latitude':48.58909}},
								{'origin':{'longitude':9.91899,'latitude':54.98753},'destination':{'longitude':9.95500,'latitude':54.59821}},
								{'origin':{'longitude':9.95500,'latitude':54.59821},'destination':{'longitude':10.96310,'latitude':54.36123}},
								{'origin':{'longitude':10.96310,'latitude':54.36123},'destination':{'longitude':10.92709,'latitude':54.00576}},
								{'origin':{'longitude':10.92709,'latitude':54.00576},'destination':{'longitude':11.97120,'latitude':54.19196}},
								{'origin':{'longitude':11.97120,'latitude':54.19196},'destination':{'longitude':12.51125,'latitude':54.46279}},
								{'origin':{'longitude':12.51125,'latitude':54.46279},'destination':{'longitude':13.66337,'latitude':54.07347}},
								{'origin':{'longitude':13.66337,'latitude':54.07347},'destination':{'longitude':14.13141,'latitude':53.75185}},
								{'origin':{'longitude':14.13141,'latitude':53.75185},'destination':{'longitude':14.34743,'latitude':53.24404}},
								{'origin':{'longitude':14.34743,'latitude':53.24404},'destination':{'longitude':14.05941,'latitude':52.97321}},
								{'origin':{'longitude':14.05941,'latitude':52.97321},'destination':{'longitude':14.45545,'latitude':52.61774}},
								{'origin':{'longitude':14.45545,'latitude':52.61774},'destination':{'longitude':14.67147,'latitude':52.09300}},
								{'origin':{'longitude':14.67147,'latitude':52.09300},'destination':{'longitude':14.59946,'latitude':51.73753}},
								{'origin':{'longitude':14.59946,'latitude':51.73753},'destination':{'longitude':15.03150,'latitude':51.11123}},
								{'origin':{'longitude':6.17462,'latitude':49.46930},'destination':{'longitude':6.24662,'latitude':49.90940}},
								{'origin':{'longitude':6.24662,'latitude':49.90940},'destination':{'longitude':6.03060,'latitude':50.12945}},
								{'origin':{'longitude':6.17462,'latitude':50.80654},'destination':{'longitude':5.99460,'latitude':51.85602}},
								{'origin':{'longitude':5.99460,'latitude':51.85602},'destination':{'longitude':6.60666,'latitude':51.85602}},
								{'origin':{'longitude':6.60666,'latitude':51.85602},'destination':{'longitude':6.85869,'latitude':52.22841}},
								{'origin':{'longitude':6.85869,'latitude':52.22841},'destination':{'longitude':7.07471,'latitude':53.14248}},
								{'origin':{'longitude':7.07471,'latitude':53.14248},'destination':{'longitude':6.89469,'latitude':53.48102}},
								{'origin':{'longitude':6.89469,'latitude':53.48102},'destination':{'longitude':7.11071,'latitude':53.70107}},
								{'origin':{'longitude':7.11071,'latitude':53.70107},'destination':{'longitude':7.93879,'latitude':53.75185}},
								{'origin':{'longitude':7.93879,'latitude':53.75185},'destination':{'longitude':8.11881,'latitude':53.53180}},
								{'origin':{'longitude':8.11881,'latitude':53.53180},'destination':{'longitude':8.80288,'latitude':54.02269}},
								{'origin':{'longitude':8.80288,'latitude':54.02269},'destination':{'longitude':8.58686,'latitude':54.39508}},
								{'origin':{'longitude':8.58686,'latitude':54.39508},'destination':{'longitude':8.51485,'latitude':54.97061}},
								{'origin':{'longitude':8.51485,'latitude':54.97061},'destination':{'longitude':9.27093,'latitude':54.83519}},
								{'origin':{'longitude':9.27093,'latitude':54.83519},'destination':{'longitude':9.91899,'latitude':54.98753}},
								{'origin':{'longitude':-9.01890,'latitude':41.88595},'destination':{'longitude':-8.98290,'latitude':42.59689}},
								{'origin':{'longitude':-8.98290,'latitude':42.59689},'destination':{'longitude':-9.37894,'latitude':43.02007}},
								{'origin':{'longitude':-9.37894,'latitude':43.02007},'destination':{'longitude':-7.97480,'latitude':43.74793}},
								{'origin':{'longitude':-7.97480,'latitude':43.74793},'destination':{'longitude':-6.75068,'latitude':43.56173}},
								{'origin':{'longitude':-6.75068,'latitude':43.56173},'destination':{'longitude':-5.41854,'latitude':43.57866}},
								{'origin':{'longitude':-5.41854,'latitude':43.57866},'destination':{'longitude':-4.33843,'latitude':43.40939}},
								{'origin':{'longitude':-4.33843,'latitude':43.40939},'destination':{'longitude':-3.51035,'latitude':43.46017}},
								{'origin':{'longitude':-3.51035,'latitude':43.46017},'destination':{'longitude':-1.89019,'latitude':43.42632}},
								{'origin':{'longitude':2.97030,'latitude':42.47840},'destination':{'longitude':3.04230,'latitude':41.88595}},
								{'origin':{'longitude':3.04230,'latitude':41.88595},'destination':{'longitude':2.10621,'latitude':41.22579}},
								{'origin':{'longitude':2.10621,'latitude':41.22579},'destination':{'longitude':0.81008,'latitude':41.02267}},
								{'origin':{'longitude':0.81008,'latitude':41.02267},'destination':{'longitude':0.73807,'latitude':40.68413}},
								{'origin':{'longitude':0.73807,'latitude':40.68413},'destination':{'longitude':0.09001,'latitude':40.12553}},
								{'origin':{'longitude':0.09001,'latitude':40.12553},'destination':{'longitude':-0.27003,'latitude':39.31303}},
								{'origin':{'longitude':-0.27003,'latitude':39.31303},'destination':{'longitude':0.12601,'latitude':38.73751}},
								{'origin':{'longitude':0.12601,'latitude':38.73751},'destination':{'longitude':-0.45005,'latitude':38.29740}},
								{'origin':{'longitude':-0.45005,'latitude':38.29740},'destination':{'longitude':-0.66607,'latitude':37.63725}},
								{'origin':{'longitude':-0.66607,'latitude':37.63725},'destination':{'longitude':-1.42214,'latitude':37.45105}},
								{'origin':{'longitude':-1.42214,'latitude':37.45105},'destination':{'longitude':-2.14221,'latitude':36.67240}},
								{'origin':{'longitude':-2.14221,'latitude':36.67240},'destination':{'longitude':-3.40234,'latitude':36.65547}},
								{'origin':{'longitude':-3.40234,'latitude':36.65547},'destination':{'longitude':-4.37444,'latitude':36.67240}},
								{'origin':{'longitude':-4.37444,'latitude':36.67240},'destination':{'longitude':-4.98650,'latitude':36.31693}},
								{'origin':{'longitude':-4.98650,'latitude':36.31693},'destination':{'longitude':-5.38254,'latitude':35.94454}},
								{'origin':{'longitude':-5.38254,'latitude':35.94454},'destination':{'longitude':-5.85059,'latitude':36.02917}},
								{'origin':{'longitude':-5.85059,'latitude':36.02917},'destination':{'longitude':-6.24662,'latitude':36.36771}},
								{'origin':{'longitude':-6.24662,'latitude':36.36771},'destination':{'longitude':-6.53465,'latitude':36.94323}},
								{'origin':{'longitude':-6.53465,'latitude':36.94323},'destination':{'longitude':-7.47075,'latitude':37.09558}},
								{'origin':{'longitude':-7.47075,'latitude':37.09558},'destination':{'longitude':-7.54275,'latitude':37.43412}},
								{'origin':{'longitude':-7.54275,'latitude':37.43412},'destination':{'longitude':-7.18272,'latitude':37.80652}},
								{'origin':{'longitude':-7.18272,'latitude':37.80652},'destination':{'longitude':-7.03870,'latitude':38.07735}},
								{'origin':{'longitude':-7.03870,'latitude':38.07735},'destination':{'longitude':-7.36274,'latitude':38.36511}},
								{'origin':{'longitude':-7.36274,'latitude':38.36511},'destination':{'longitude':-7.11071,'latitude':39.02527}},
								{'origin':{'longitude':-7.11071,'latitude':39.02527},'destination':{'longitude':-7.50675,'latitude':39.63465}},
								{'origin':{'longitude':-7.50675,'latitude':39.63465},'destination':{'longitude':-7.07471,'latitude':39.71928}},
								{'origin':{'longitude':-7.07471,'latitude':39.71928},'destination':{'longitude':-7.03870,'latitude':40.17631}},
								{'origin':{'longitude':-7.03870,'latitude':40.17631},'destination':{'longitude':-6.85869,'latitude':40.32866}},
								{'origin':{'longitude':-6.85869,'latitude':40.32866},'destination':{'longitude':-6.85869,'latitude':41.10730}},
								{'origin':{'longitude':-6.85869,'latitude':41.10730},'destination':{'longitude':-6.39064,'latitude':41.37814}},
								{'origin':{'longitude':-6.39064,'latitude':41.37814},'destination':{'longitude':-6.67867,'latitude':41.88595}},
								{'origin':{'longitude':-6.67867,'latitude':41.88595},'destination':{'longitude':-7.25473,'latitude':41.91981}},
								{'origin':{'longitude':-7.25473,'latitude':41.91981},'destination':{'longitude':-7.43474,'latitude':41.78439}},
								{'origin':{'longitude':-7.43474,'latitude':41.78439},'destination':{'longitude':-8.01080,'latitude':41.78439}},
								{'origin':{'longitude':-8.01080,'latitude':41.78439},'destination':{'longitude':-8.26283,'latitude':42.27527}},
								{'origin':{'longitude':-8.26283,'latitude':42.27527},'destination':{'longitude':-8.65887,'latitude':42.13986}},
								{'origin':{'longitude':-8.65887,'latitude':42.13986},'destination':{'longitude':-9.01890,'latitude':41.88595}},
								{'origin':{'longitude':-6.21062,'latitude':53.87034},'destination':{'longitude':-6.96670,'latitude':54.07347}},
								{'origin':{'longitude':-6.96670,'latitude':54.07347},'destination':{'longitude':-7.57876,'latitude':54.05654}},
								{'origin':{'longitude':-7.57876,'latitude':54.05654},'destination':{'longitude':-7.36274,'latitude':54.59821}},
								{'origin':{'longitude':-7.36274,'latitude':54.59821},'destination':{'longitude':-7.57876,'latitude':55.13988}},
								{'origin':{'longitude':-7.57876,'latitude':55.13988},'destination':{'longitude':-6.75068,'latitude':55.17373}},
								{'origin':{'longitude':-6.75068,'latitude':55.17373},'destination':{'longitude':-5.67057,'latitude':54.54743}},
								{'origin':{'longitude':-5.67057,'latitude':54.54743},'destination':{'longitude':-6.21062,'latitude':53.87034}},
								{'origin':{'longitude':-3.00630,'latitude':58.62686},'destination':{'longitude':-4.08641,'latitude':57.56045}},
								{'origin':{'longitude':-4.08641,'latitude':57.56045},'destination':{'longitude':-3.04230,'latitude':57.69587}},
								{'origin':{'longitude':-3.04230,'latitude':57.69587},'destination':{'longitude':-1.96220,'latitude':57.67894}},
								{'origin':{'longitude':-1.96220,'latitude':57.67894},'destination':{'longitude':-2.21422,'latitude':56.86644}},
								{'origin':{'longitude':-2.21422,'latitude':56.86644},'destination':{'longitude':-3.11431,'latitude':55.96931}},
								{'origin':{'longitude':-3.11431,'latitude':55.96931},'destination':{'longitude':-2.07021,'latitude':55.90160}},
								{'origin':{'longitude':-2.07021,'latitude':55.90160},'destination':{'longitude':-1.99820,'latitude':55.80003}},
								{'origin':{'longitude':-1.99820,'latitude':55.80003},'destination':{'longitude':-1.09811,'latitude':54.63206}},
								{'origin':{'longitude':-1.09811,'latitude':54.63206},'destination':{'longitude':-0.41404,'latitude':54.46279}},
								{'origin':{'longitude':-0.41404,'latitude':54.46279},'destination':{'longitude':0.19802,'latitude':53.32868}},
								{'origin':{'longitude':0.19802,'latitude':53.32868},'destination':{'longitude':0.48605,'latitude':52.92243}},
								{'origin':{'longitude':0.48605,'latitude':52.92243},'destination':{'longitude':1.67417,'latitude':52.73623}},
								{'origin':{'longitude':1.67417,'latitude':52.73623},'destination':{'longitude':1.56616,'latitude':52.09300}},
								{'origin':{'longitude':1.56616,'latitude':52.09300},'destination':{'longitude':1.06211,'latitude':51.80524}},
								{'origin':{'longitude':1.06211,'latitude':51.80524},'destination':{'longitude':1.45815,'latitude':51.29742}},
								{'origin':{'longitude':1.45815,'latitude':51.29742},'destination':{'longitude':0.55806,'latitude':50.77268}},
								{'origin':{'longitude':0.55806,'latitude':50.77268},'destination':{'longitude':-0.77408,'latitude':50.77268}},
								{'origin':{'longitude':-0.77408,'latitude':50.77268},'destination':{'longitude':-2.50225,'latitude':50.50185}},
								{'origin':{'longitude':-2.50225,'latitude':50.50185},'destination':{'longitude':-2.97030,'latitude':50.70497}},
								{'origin':{'longitude':-2.97030,'latitude':50.70497},'destination':{'longitude':-3.61836,'latitude':50.23102}},
								{'origin':{'longitude':-3.61836,'latitude':50.23102},'destination':{'longitude':-4.55446,'latitude':50.34951}},
								{'origin':{'longitude':-4.55446,'latitude':50.34951},'destination':{'longitude':-5.23852,'latitude':49.96018}},
								{'origin':{'longitude':-5.23852,'latitude':49.96018},'destination':{'longitude':-5.77858,'latitude':50.16331}},
								{'origin':{'longitude':-5.77858,'latitude':50.16331},'destination':{'longitude':-4.30243,'latitude':51.21279}},
								{'origin':{'longitude':-4.30243,'latitude':51.21279},'destination':{'longitude':-3.40234,'latitude':51.43284}},
								{'origin':{'longitude':-3.40234,'latitude':51.43284},'destination':{'longitude':-3.43834,'latitude':51.43284}},
								{'origin':{'longitude':-3.43834,'latitude':51.43284},'destination':{'longitude':-4.98650,'latitude':51.58518}},
								{'origin':{'longitude':-4.98650,'latitude':51.58518},'destination':{'longitude':-5.27453,'latitude':51.99144}},
								{'origin':{'longitude':-5.27453,'latitude':51.99144},'destination':{'longitude':-4.23042,'latitude':52.29612}},
								{'origin':{'longitude':-4.23042,'latitude':52.29612},'destination':{'longitude':-4.77048,'latitude':52.83779}},
								{'origin':{'longitude':-4.77048,'latitude':52.83779},'destination':{'longitude':-4.59046,'latitude':53.49795}},
								{'origin':{'longitude':-4.59046,'latitude':53.49795},'destination':{'longitude':-3.07831,'latitude':53.39639}},
								{'origin':{'longitude':-3.07831,'latitude':53.39639},'destination':{'longitude':-2.93429,'latitude':53.98883}},
								{'origin':{'longitude':-2.93429,'latitude':53.98883},'destination':{'longitude':-3.61836,'latitude':54.59821}},
								{'origin':{'longitude':-3.61836,'latitude':54.59821},'destination':{'longitude':-3.61836,'latitude':54.61514}},
								{'origin':{'longitude':-3.61836,'latitude':54.61514},'destination':{'longitude':-4.84248,'latitude':54.78441}},
								{'origin':{'longitude':-4.84248,'latitude':54.78441},'destination':{'longitude':-5.09451,'latitude':55.05524}},
								{'origin':{'longitude':-5.09451,'latitude':55.05524},'destination':{'longitude':-4.73447,'latitude':55.51227}},
								{'origin':{'longitude':-4.73447,'latitude':55.51227},'destination':{'longitude':-5.05851,'latitude':55.78311}},
								{'origin':{'longitude':-5.05851,'latitude':55.78311},'destination':{'longitude':-5.59856,'latitude':55.30915}},
								{'origin':{'longitude':-5.59856,'latitude':55.30915},'destination':{'longitude':-5.63456,'latitude':56.27399}},
								{'origin':{'longitude':-5.63456,'latitude':56.27399},'destination':{'longitude':-6.13861,'latitude':56.78181}},
								{'origin':{'longitude':-6.13861,'latitude':56.78181},'destination':{'longitude':-5.77858,'latitude':57.81436}},
								{'origin':{'longitude':-5.77858,'latitude':57.81436},'destination':{'longitude':-5.02250,'latitude':58.62686}},
								{'origin':{'longitude':-5.02250,'latitude':58.62686},'destination':{'longitude':-4.19442,'latitude':58.55915}},
								{'origin':{'longitude':-4.19442,'latitude':58.55915},'destination':{'longitude':-3.00630,'latitude':58.62686}},
								{'origin':{'longitude':-6.21062,'latitude':53.87034},'destination':{'longitude':-6.03060,'latitude':53.15941}},
								{'origin':{'longitude':-6.03060,'latitude':53.15941},'destination':{'longitude':-6.78668,'latitude':52.26227}},
								{'origin':{'longitude':-6.78668,'latitude':52.26227},'destination':{'longitude':-8.55086,'latitude':51.66982}},
								{'origin':{'longitude':-8.55086,'latitude':51.66982},'destination':{'longitude':-9.99100,'latitude':51.82216}},
								{'origin':{'longitude':-9.99100,'latitude':51.82216},'destination':{'longitude':-9.16292,'latitude':52.87164}},
								{'origin':{'longitude':-9.16292,'latitude':52.87164},'destination':{'longitude':-9.70297,'latitude':53.88727}},
								{'origin':{'longitude':-9.70297,'latitude':53.88727},'destination':{'longitude':-8.33483,'latitude':54.66592}},
								{'origin':{'longitude':-8.33483,'latitude':54.66592},'destination':{'longitude':-7.57876,'latitude':55.13988}},
								{'origin':{'longitude':15.53555,'latitude':38.22970},'destination':{'longitude':15.17552,'latitude':37.45105}},
								{'origin':{'longitude':15.17552,'latitude':37.45105},'destination':{'longitude':15.31953,'latitude':37.12943}},
								{'origin':{'longitude':15.31953,'latitude':37.12943},'destination':{'longitude':15.10351,'latitude':36.62162}},
								{'origin':{'longitude':15.10351,'latitude':36.62162},'destination':{'longitude':14.34743,'latitude':36.99402}},
								{'origin':{'longitude':14.34743,'latitude':36.99402},'destination':{'longitude':13.84338,'latitude':37.11251}},
								{'origin':{'longitude':13.84338,'latitude':37.11251},'destination':{'longitude':12.43924,'latitude':37.62032}},
								{'origin':{'longitude':12.43924,'latitude':37.62032},'destination':{'longitude':12.58326,'latitude':38.12813}},
								{'origin':{'longitude':12.58326,'latitude':38.12813},'destination':{'longitude':13.73537,'latitude':38.02657}},
								{'origin':{'longitude':13.73537,'latitude':38.02657},'destination':{'longitude':14.74347,'latitude':38.14506}},
								{'origin':{'longitude':14.74347,'latitude':38.14506},'destination':{'longitude':15.53555,'latitude':38.22970}},
								{'origin':{'longitude':9.19892,'latitude':41.20887},'destination':{'longitude':9.81098,'latitude':40.49793}},
								{'origin':{'longitude':9.81098,'latitude':40.49793},'destination':{'longitude':9.66697,'latitude':39.17761}},
								{'origin':{'longitude':9.66697,'latitude':39.17761},'destination':{'longitude':9.19892,'latitude':39.24532}},
								{'origin':{'longitude':9.19892,'latitude':39.24532},'destination':{'longitude':8.80288,'latitude':38.90678}},
								{'origin':{'longitude':8.80288,'latitude':38.90678},'destination':{'longitude':8.44284,'latitude':39.17761}},
								{'origin':{'longitude':8.44284,'latitude':39.17761},'destination':{'longitude':8.37084,'latitude':40.37944}},
								{'origin':{'longitude':8.37084,'latitude':40.37944},'destination':{'longitude':8.15482,'latitude':40.95496}},
								{'origin':{'longitude':8.15482,'latitude':40.95496},'destination':{'longitude':8.69487,'latitude':40.90418}},
								{'origin':{'longitude':8.69487,'latitude':40.90418},'destination':{'longitude':9.19892,'latitude':41.20887}},
								{'origin':{'longitude':13.80738,'latitude':46.50705},'destination':{'longitude':13.69937,'latitude':46.01617}},
								{'origin':{'longitude':13.69937,'latitude':46.01617},'destination':{'longitude':13.95140,'latitude':45.59299}},
								{'origin':{'longitude':13.95140,'latitude':45.59299},'destination':{'longitude':13.15932,'latitude':45.72840}},
								{'origin':{'longitude':13.15932,'latitude':45.72840},'destination':{'longitude':12.33123,'latitude':45.38986}},
								{'origin':{'longitude':12.33123,'latitude':45.38986},'destination':{'longitude':12.36724,'latitude':44.88205}},
								{'origin':{'longitude':12.36724,'latitude':44.88205},'destination':{'longitude':12.25923,'latitude':44.59429}},
								{'origin':{'longitude':12.25923,'latitude':44.59429},'destination':{'longitude':12.58326,'latitude':44.08648}},
								{'origin':{'longitude':12.58326,'latitude':44.08648},'destination':{'longitude':13.51935,'latitude':43.59559}},
								{'origin':{'longitude':13.51935,'latitude':43.59559},'destination':{'longitude':14.02340,'latitude':42.76616}},
								{'origin':{'longitude':14.02340,'latitude':42.76616},'destination':{'longitude':15.13951,'latitude':41.95366}},
								{'origin':{'longitude':15.13951,'latitude':41.95366},'destination':{'longitude':15.93159,'latitude':41.95366}},
								{'origin':{'longitude':15.93159,'latitude':41.95366},'destination':{'longitude':16.18362,'latitude':41.73361}},
								{'origin':{'longitude':16.18362,'latitude':41.73361},'destination':{'longitude':15.89559,'latitude':41.54741}},
								{'origin':{'longitude':15.89559,'latitude':41.54741},'destination':{'longitude':16.79568,'latitude':41.17501}},
								{'origin':{'longitude':16.79568,'latitude':41.17501},'destination':{'longitude':17.51575,'latitude':40.87032}},
								{'origin':{'longitude':17.51575,'latitude':40.87032},'destination':{'longitude':18.37984,'latitude':40.36251}},
								{'origin':{'longitude':18.37984,'latitude':40.36251},'destination':{'longitude':18.48785,'latitude':40.17631}},
								{'origin':{'longitude':18.48785,'latitude':40.17631},'destination':{'longitude':18.30783,'latitude':39.80392}},
								{'origin':{'longitude':18.30783,'latitude':39.80392},'destination':{'longitude':17.73177,'latitude':40.27788}},
								{'origin':{'longitude':17.73177,'latitude':40.27788},'destination':{'longitude':16.86769,'latitude':40.44715}},
								{'origin':{'longitude':16.86769,'latitude':40.44715},'destination':{'longitude':16.43564,'latitude':39.78699}},
								{'origin':{'longitude':16.43564,'latitude':39.78699},'destination':{'longitude':17.15572,'latitude':39.43152}},
								{'origin':{'longitude':17.15572,'latitude':39.43152},'destination':{'longitude':17.04770,'latitude':38.90678}},
								{'origin':{'longitude':17.04770,'latitude':38.90678},'destination':{'longitude':16.65167,'latitude':38.83907}},
								{'origin':{'longitude':16.65167,'latitude':38.83907},'destination':{'longitude':16.11161,'latitude':37.99272}},
								{'origin':{'longitude':16.11161,'latitude':37.99272},'destination':{'longitude':15.67957,'latitude':37.90808}},
								{'origin':{'longitude':15.67957,'latitude':37.90808},'destination':{'longitude':15.67957,'latitude':38.21277}},
								{'origin':{'longitude':15.67957,'latitude':38.21277},'destination':{'longitude':15.89559,'latitude':38.75444}},
								{'origin':{'longitude':15.89559,'latitude':38.75444},'destination':{'longitude':16.11161,'latitude':38.95756}},
								{'origin':{'longitude':16.11161,'latitude':38.95756},'destination':{'longitude':15.71557,'latitude':39.55001}},
								{'origin':{'longitude':15.71557,'latitude':39.55001},'destination':{'longitude':15.42754,'latitude':40.04090}},
								{'origin':{'longitude':15.42754,'latitude':40.04090},'destination':{'longitude':14.99550,'latitude':40.17631}},
								{'origin':{'longitude':14.99550,'latitude':40.17631},'destination':{'longitude':14.70747,'latitude':40.59949}},
								{'origin':{'longitude':14.70747,'latitude':40.59949},'destination':{'longitude':14.05941,'latitude':40.78569}},
								{'origin':{'longitude':14.05941,'latitude':40.78569},'destination':{'longitude':13.62736,'latitude':41.19194}},
								{'origin':{'longitude':13.62736,'latitude':41.19194},'destination':{'longitude':12.87129,'latitude':41.25965}},
								{'origin':{'longitude':12.87129,'latitude':41.25965},'destination':{'longitude':12.11521,'latitude':41.69975}},
								{'origin':{'longitude':12.11521,'latitude':41.69975},'destination':{'longitude':11.17912,'latitude':42.35991}},
								{'origin':{'longitude':11.17912,'latitude':42.35991},'destination':{'longitude':10.49505,'latitude':42.93543}},
								{'origin':{'longitude':10.49505,'latitude':42.93543},'destination':{'longitude':10.20702,'latitude':43.91720}},
								{'origin':{'longitude':10.20702,'latitude':43.91720},'destination':{'longitude':9.70297,'latitude':44.03569}},
								{'origin':{'longitude':9.70297,'latitude':44.03569},'destination':{'longitude':8.87489,'latitude':44.37424}},
								{'origin':{'longitude':8.87489,'latitude':44.37424},'destination':{'longitude':8.44284,'latitude':44.23882}},
								{'origin':{'longitude':8.44284,'latitude':44.23882},'destination':{'longitude':7.86679,'latitude':43.76486}},
								{'origin':{'longitude':7.86679,'latitude':43.76486},'destination':{'longitude':7.43474,'latitude':43.69715}},
								{'origin':{'longitude':3.33033,'latitude':51.34821},'destination':{'longitude':3.83438,'latitude':51.61904}},
								{'origin':{'longitude':3.83438,'latitude':51.61904},'destination':{'longitude':4.69847,'latitude':53.09170}},
								{'origin':{'longitude':4.69847,'latitude':53.09170},'destination':{'longitude':6.06661,'latitude':53.51488}},
								{'origin':{'longitude':6.06661,'latitude':53.51488},'destination':{'longitude':6.89469,'latitude':53.48102}},
								{'origin':{'longitude':-7.47075,'latitude':37.09558},'destination':{'longitude':-7.86679,'latitude':36.84167}},
								{'origin':{'longitude':-7.86679,'latitude':36.84167},'destination':{'longitude':-8.37084,'latitude':36.97709}},
								{'origin':{'longitude':-8.37084,'latitude':36.97709},'destination':{'longitude':-8.91089,'latitude':36.87553}},
								{'origin':{'longitude':-8.91089,'latitude':36.87553},'destination':{'longitude':-8.73087,'latitude':37.65417}},
								{'origin':{'longitude':-8.73087,'latitude':37.65417},'destination':{'longitude':-8.83888,'latitude':38.26355}},
								{'origin':{'longitude':-8.83888,'latitude':38.26355},'destination':{'longitude':-9.27093,'latitude':38.36511}},
								{'origin':{'longitude':-9.27093,'latitude':38.36511},'destination':{'longitude':-9.52295,'latitude':38.73751}},
								{'origin':{'longitude':-9.52295,'latitude':38.73751},'destination':{'longitude':-9.45095,'latitude':39.39767}},
								{'origin':{'longitude':-9.45095,'latitude':39.39767},'destination':{'longitude':-9.05491,'latitude':39.75314}},
								{'origin':{'longitude':-9.05491,'latitude':39.75314},'destination':{'longitude':-8.98290,'latitude':40.15939}},
								{'origin':{'longitude':-8.98290,'latitude':40.15939},'destination':{'longitude':-8.76688,'latitude':40.76876}},
								{'origin':{'longitude':-8.76688,'latitude':40.76876},'destination':{'longitude':-8.80288,'latitude':41.19194}},
								{'origin':{'longitude':-8.80288,'latitude':41.19194},'destination':{'longitude':-8.98290,'latitude':41.54741}},
								{'origin':{'longitude':-8.98290,'latitude':41.54741},'destination':{'longitude':-9.01890,'latitude':41.88595}}
							],
							{
								'strokeWidth': 1,
								'strokeColor': 'black',
								'arcSharpness': 0
							}
						);
					}
				});
			} ) ();

			/********************************/
			/* PAGE ANIMATION ***************/
			/********************************/

			g_myPageAnimation = ( function () {
				var e_loading_message;
				var e_loading_animation;
				var loading_animation_boolean;
				var loading_animation_html_code;

				return ({
					init: function () {
						e_loading_message = document.getElementById('loading_message');
						e_loading_animation = document.getElementById('loading_animation');
						loading_animation_boolean = false;
						loading_animation_html_code = "&#8987;";
					},
					loadingStart: function () {
						e_loading_message.style.display = "block";
						loading_animation_boolean = true;
						console.log("Loading...");
						this.loadingAnimate();
					},
					loadingAnimate: function () {
						if (loading_animation_html_code == "&#8987;") {
							loading_animation_html_code = "&#9203;"; // Sablier avec coulee de sable
							e_loading_animation.innerHTML = loading_animation_html_code;
						}
						else {
							loading_animation_html_code = "&#8987;"; // Sablier
							e_loading_animation.innerHTML = loading_animation_html_code;
						}
						if (loading_animation_boolean) {
							window.setTimeout(this.loadingAnimate.bind(this), 1000); // BIND
						}
					},
					loadingStop: function () {
						e_loading_message.style.display = "none";
						loading_animation_boolean = false;
					}
				});
			} ) ();

		</script>
	</head>
	<body onload="ft_load_page()">
		<table border='0'>
			<tr>
				<td colspan="2">
					<div id="header">Je vous souhaite la bienvenue ! &#12484;</div>
				</td>
			</tr>
			<tr>
				<td rowspan="2">
					<div id="map_container"></div>
				</td>
				<td>
					<div id="loading_message" style="display: none; color: gray;">
						<span>Loading... </span>
						<span id="loading_animation">&#8987;</span>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<p style="color: gray;">
						Un paragraphe lourd de sens<br>
						s'etalant sur plusieurs lignes<br>
					</p>
				</td>
			</tr>
		</table>
	</body>
</html>
